rule "Bedtime On"
when
	Time cron "0 10 19 ? * SUN,MON,TUE,WED,THU,FRI,SAT *" or
	Item Bedtime received command ON
then
	logWarn("Bigboxer23", "Bedtime On " + now.getDayOfWeek)
	var aPurple = new HSBType(new DecimalType(265),new PercentType(89),new PercentType(10))
	switch now.getDayOfWeek
	{
		case 1:
		{
			logWarn("Bigboxer23", "Bedtime Monday")
			aPurple = new HSBType(new DecimalType(328), new PercentType(61), new PercentType(10))
		}
		case 2:
        {
            logWarn("Bigboxer23", "Bedtime Tuesday")
            aPurple = new HSBType(new DecimalType(254), new PercentType(98), new PercentType(10))
        }
		case 3:
        {
            logWarn("Bigboxer23", "Bedtime Wednesday")
            aPurple = new HSBType(new DecimalType(221), new PercentType(99), new PercentType(10))
        }
        case 4:
        {
            logWarn("Bigboxer23", "Bedtime Thursday")
            aPurple = new HSBType(new DecimalType(233), new PercentType(59), new PercentType(10))
        }
        case 5:
        {
            logWarn("Bigboxer23", "Bedtime Friday")
            aPurple = new HSBType(new DecimalType(140), new PercentType(100), new PercentType(10))
        }
        case 6:
        {
            logWarn("Bigboxer23", "Bedtime Saturday")
            aPurple = new HSBType(new DecimalType(267), new PercentType(73), new PercentType(10))
        }
        case 7:
        {
            logWarn("Bigboxer23", "Bedtime Sunday")
            aPurple = new HSBType(new DecimalType(263), new PercentType(72), new PercentType(10))
        }
	}
	MaggieLamp.sendCommand(new HSBType(new DecimalType(307),new PercentType(82),new PercentType(10)))
	NatalieReadingLamp.sendCommand(35)
	NatatalieLamp.sendCommand(aPurple)
	DeanesAccent.sendCommand(new HSBType(new DecimalType(221), new PercentType(99), new PercentType(10)))
	DeaneLamp.sendCommand(5)
	NatalieFan.sendCommand(ON)
	MargaretFan.sendCommand(ON)
end

rule "Bedtime Off"
when
	Channel 'astro:sun:local:rise#event' triggered START or
	Item Bedtime received command OFF
then
	logWarn("Bigboxer23", "Bedtime Off " + now.getDayOfWeek)
	MaggieLamp.sendCommand(0)
	NatatalieLamp.sendCommand(0)
	DeanesAccent.sendCommand(0)
	DeaneLamp.sendCommand(0)
end