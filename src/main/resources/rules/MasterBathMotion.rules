rule "Master Bath turned on"
when
    Item MasterBathMain changed or
    Item MasterBathShower changed or
    Item MasterBathFan received update ON
then
	if (MasterBathroomTimer.state == OFF || MasterBathroomTimer.state == NULL)
	{
		logWarn("Bigboxer23", "Master Bath Timer set " + MasterBathMain.state + " " + MasterBathShower.state + " " + MasterBathFan.state)
        MasterBathroomTimer.sendCommand(ON)
    } else
    {
        logWarn("Bigboxer23", "Master Bath Timer not set, " + MasterBathMain.state + " " + MasterBathShower.state + " " + MasterBathFan.state + " " + MasterBathroomTimer.state)
    }
end


rule "Master Bath Timer OFF"
when
    Item MasterBathroomTimer received update OFF
then
    MasterBathMain.sendCommand(0)
    MasterBathShower.sendCommand(0)
    MasterBathFan.sendCommand(OFF)
    logWarn("Bigboxer23", "Master Bath Timer shutting off lights")
end