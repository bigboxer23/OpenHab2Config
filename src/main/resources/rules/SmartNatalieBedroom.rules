rule "Smart Natalie Room Rule"
when
	Item SmartNatalieBedroom received command
then
	logWarn("Bigboxer23", "Smart Natalie: " + receivedCommand + " " + now.getHourOfDay + " " + NatalieRoomLight.state)
	if (receivedCommand == OFF)
	{
		if (NatalieRoomLight.state == 0)
		{
			NatalieReadingLamp.sendCommand(receivedCommand);
		}
		NatalieRoomLight.sendCommand(receivedCommand);
		NatalieRoomWindow.sendCommand(receivedCommand);
		if (now.getHourOfDay >= 7 && now.getHourOfDay < 20)
		{
			NatalieFan.sendCommand(receivedCommand);
			NatatalieLamp.sendCommand(receivedCommand);
			NataliesAccent.sendCommand(receivedCommand);
		}
	} else
	{
		if (now.getHourOfDay >= 7 && now.getHourOfDay < 19)
		{
			if (receivedCommand == ON)
			{
				NatalieRoomLight.sendCommand(100);
				NatalieRoomWindow.sendCommand(100);
			} else
			{
				NatalieRoomLight.sendCommand(receivedCommand);
				NatalieRoomWindow.sendCommand(receivedCommand);
			}
		} else
		{
			if (receivedCommand == ON)
			{
				NatatalieLamp.sendCommand(receivedCommand);
				NataliesAccent.sendCommand(receivedCommand);
				NatalieFan.sendCommand(receivedCommand);
				NatalieReadingLamp.sendCommand(40);
			} else
			{
				NatalieReadingLamp.sendCommand(receivedCommand);
			}
		}
	}
end